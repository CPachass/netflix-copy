{"version":3,"sources":["carousel.js"],"names":["NUMERO_CONTENIDOS","CONTENIDOS_DISPONIBLES","carrusel","crear_carrusel","crear_flechas","crear_paginacion","document","querySelectorAll","forEach","recomendacion","recomendaciones_carrusel","createElement","classList","add","flecha_izquierda","innerHTML","flecha_derecha","nuevo_carrusel","aux","arreglo_aleatorio","sort","Math","random","i","nuevo_carrusel_contenido","link","appendChild","flechas_izquierdas","flechas_derechas","addEventListener","e","fila_actual","target","parentNode","nextElementSibling","scrollLeft","clientWidth","previousElementSibling","numero_peliculas","querySelector","childNodes","length","paginador","numero_paginas","ceil","indicador","remove","carrusel_actual","actualizar_paginacion","boton","window"],"mappings":"AAAA,MAAMA,kBAAoB,GACpBC,uBAAyB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GASxD,SAASC,WACLC,iBACAC,gBACAC,mBAEJ,SAASF,iBACmBG,SAASC,iBAAiB,oBAElCC,QAAQC,IACpB,MAAMC,EAA2BJ,SAASK,cAAc,OACxDD,EAAyBE,UAAUC,IAAI,4BACvC,MAAMC,EAAmBR,SAASK,cAAc,OAChDG,EAAiBF,UAAUC,IAAI,6BAC/BC,EAAiBC,UAAY,2CAC7B,MAAMC,EAAiBV,SAASK,cAAc,OAC9CK,EAAeJ,UAAUC,IAAI,2BAC7BG,EAAeD,UAAY,4CAC3B,MAAME,EAAiBX,SAASK,cAAc,OAC9CM,EAAeL,UAAUC,IAAI,YAC7B,IAAIK,EAAM,EACNC,EAAoBlB,uBACxBkB,EAAoBA,EAAkBC,KAAK,IAAMC,KAAKC,SAAW,IACjE,IAAK,IAAIC,EAAI,EAAGA,EAhCE,GAgCqBA,IAAK,CACpCL,GAAO,IAAKA,EAAM,GACtB,MAAMM,EAA2BlB,SAASK,cAAc,OACxDa,EAAyBZ,UAAUC,IAAI,sBACvC,MAAMY,EAAOnB,SAASK,cAAc,KAOpCc,EAAKV,UAAY,qCACKI,EAAkBD,gCAGxCM,EAAyBE,YAAYD,GACrCR,EAAeS,YAAYF,GAC3BN,GAAY,EAEhBR,EAAyBgB,YAAYZ,GACrCJ,EAAyBgB,YAAYT,GACrCP,EAAyBgB,YAAYV,GACrCP,EAAciB,YAAYhB,KAGlC,SAASN,gBACL,MAAMuB,EAAqBrB,SAASC,iBAAiB,8BAC/CqB,EAAmBtB,SAASC,iBAAiB,4BACnDoB,EAAmBnB,QAAQM,IACvBA,EAAiBe,iBAAiB,QAAUC,IACxC,MAAMC,EAAcD,EAAEE,OAAOC,WAAWC,mBACxCH,EAAYI,WAAaJ,EAAYI,WAAaJ,EAAYK,gBAGtER,EAAiBpB,QAAQQ,IACrBA,EAAea,iBAAiB,QAAUC,IACtC,MAAMC,EAAcD,EAAEE,OAAOC,WAAWI,uBACxCN,EAAYI,WAAaJ,EAAYI,WAAaJ,EAAYK,gBAI1E,SAAS/B,mBACL,MAAMiC,EAAmBhC,SAASiC,cAAc,aAAaC,WAAWC,OAClEvC,EAAWI,SAASiC,cAAc,aACpBjC,SAASC,iBAAiB,0BAClCC,QAAQkC,IAChB,IAAIC,EAEAA,EADAzC,EAASkC,YAAc,IACNf,KAAKuB,KAAKN,EAAmB,GACvCpC,EAASkC,YAAc,IACbf,KAAKuB,KAAKN,EAAmB,GACvCpC,EAASkC,YAAc,IACbf,KAAKuB,KAAKN,EAAmB,GAE7BjB,KAAKuB,KAAKN,EAAmB,GAElD,IAAK,IAAIf,EAAI,EAAGA,EAAIoB,EAAgBpB,IAAK,CACrC,MAAMsB,EAAYvC,SAASK,cAAc,UAC/B,IAANY,GAAWsB,EAAUjC,UAAUC,IAAI,UACvCgC,EAAUhB,iBAAiB,QAAUC,IACjCY,EAAUH,cAAc,WAAW3B,UAAUkC,OAAO,UACpDhB,EAAEE,OAAOpB,UAAUC,IAAI,UACvB,MAEMkC,EAFoBL,EAAUT,WACiBA,WACFM,cAAc,6BAA6BA,cAAc,aAC5GQ,EAAgBZ,WAAaZ,EAAIwB,EAAgBX,cAErDM,EAAUhB,YAAYmB,MAIlC,SAASG,wBACe1C,SAASC,iBAAiB,0BAClCC,QAAQkC,IACAA,EAAUnC,iBAAiB,UACnCC,QAAQyC,GAASA,EAAMH,YAEnCzC,mBA1GJC,SAASuB,iBAAiB,mBAAoB,KAC1C3B,aAEJgD,OAAOrB,iBAAiB,SAAU,KAC9BmB","file":"carousel.js","sourcesContent":["const NUMERO_CONTENIDOS = 15;\r\nconst CONTENIDOS_DISPONIBLES = [1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    carrusel();\r\n});\r\nwindow.addEventListener(\"resize\", () => {\r\n    actualizar_paginacion();\r\n});\r\n\r\nfunction carrusel() {\r\n    crear_carrusel();\r\n    crear_flechas();\r\n    crear_paginacion();\r\n}\r\nfunction crear_carrusel () {\r\n    const recomendaciones = document.querySelectorAll(\".recomendaciones\");\r\n    // Crear cada carrusel\r\n    recomendaciones.forEach(recomendacion => {\r\n        const recomendaciones_carrusel = document.createElement(\"DIV\");\r\n        recomendaciones_carrusel.classList.add(\"recomendaciones-carrusel\");\r\n        const flecha_izquierda = document.createElement(\"DIV\");\r\n        flecha_izquierda.classList.add(\"carrusel-flecha-izquierda\");\r\n        flecha_izquierda.innerHTML = `<i class=\"fa-solid fa-chevron-left\"></i>`;\r\n        const flecha_derecha = document.createElement(\"DIV\");\r\n        flecha_derecha.classList.add(\"carrusel-flecha-derecha\");\r\n        flecha_derecha.innerHTML = `<i class=\"fa-solid fa-chevron-right\"></i>`;\r\n        const nuevo_carrusel = document.createElement(\"DIV\");\r\n        nuevo_carrusel.classList.add(\"carrusel\");\r\n        let aux = 1;\r\n        let arreglo_aleatorio = CONTENIDOS_DISPONIBLES;\r\n        arreglo_aleatorio = arreglo_aleatorio.sort(() => Math.random() - 0.5);\r\n        for (let i = 0; i < NUMERO_CONTENIDOS; i++) {\r\n            if (aux >= 9) { aux = 1};\r\n            const nuevo_carrusel_contenido = document.createElement(\"DIV\");\r\n            nuevo_carrusel_contenido.classList.add(\"carrusel-contenido\");\r\n            const link = document.createElement(\"A\");\r\n            // const picture = document.createElement(\"PICTURE\");\r\n            // picture.innerHTML = `\r\n            //     <source srcset=\"build/img/${arreglo_aleatorio[aux]}.avif\" type=\"image/avif\">\r\n            //     <source srcset=\"build/img/${arreglo_aleatorio[aux]}.webp\" type=\"image/webp\">\r\n            //     <img loading=\"lazy\"  width=\"200\" height=\"300\" src=\"build/img/${arreglo_aleatorio[aux]}.jpg\" alt=\"carrusel imagen\">\r\n            // `;\r\n            link.innerHTML = `\r\n            <img src=\"build/img/${arreglo_aleatorio[aux]}.jpg\" alt=\"\">\r\n            `;\r\n            // link.appendChild(picture);\r\n            nuevo_carrusel_contenido.appendChild(link);\r\n            nuevo_carrusel.appendChild(nuevo_carrusel_contenido);\r\n            aux = aux + 1;\r\n        }\r\n        recomendaciones_carrusel.appendChild(flecha_izquierda);\r\n        recomendaciones_carrusel.appendChild(nuevo_carrusel);\r\n        recomendaciones_carrusel.appendChild(flecha_derecha);\r\n        recomendacion.appendChild(recomendaciones_carrusel);\r\n    });\r\n}\r\nfunction crear_flechas() {\r\n    const flechas_izquierdas = document.querySelectorAll(\".carrusel-flecha-izquierda\")\r\n    const flechas_derechas = document.querySelectorAll(\".carrusel-flecha-derecha\");\r\n    flechas_izquierdas.forEach(flecha_izquierda => {\r\n        flecha_izquierda.addEventListener(\"click\", (e) => {\r\n            const fila_actual = e.target.parentNode.nextElementSibling;\r\n            fila_actual.scrollLeft = fila_actual.scrollLeft - fila_actual.clientWidth;\r\n        });\r\n    });\r\n    flechas_derechas.forEach(flecha_derecha => {\r\n        flecha_derecha.addEventListener(\"click\", (e) => {\r\n            const fila_actual = e.target.parentNode.previousElementSibling;\r\n            fila_actual.scrollLeft = fila_actual.scrollLeft + fila_actual.clientWidth;\r\n        });\r\n    });\r\n}\r\nfunction crear_paginacion() {\r\n    const numero_peliculas = document.querySelector(\".carrusel\").childNodes.length;\r\n    const carrusel = document.querySelector(\".carrusel\");\r\n    const paginadores = document.querySelectorAll(\".indicadores-paginador\");\r\n    paginadores.forEach(paginador => {\r\n        let numero_paginas;\r\n        if (carrusel.clientWidth < 480) {\r\n            numero_paginas = Math.ceil(numero_peliculas / 2);\r\n        } else if (carrusel.clientWidth < 768) {\r\n            numero_paginas = Math.ceil(numero_peliculas / 3);\r\n        } else if (carrusel.clientWidth < 996) {\r\n            numero_paginas = Math.ceil(numero_peliculas / 4);\r\n        } else {\r\n            numero_paginas = Math.ceil(numero_peliculas / 5);\r\n        }\r\n        for (let i = 0; i < numero_paginas; i++) {\r\n            const indicador = document.createElement(\"BUTTON\");\r\n            if (i === 0) { indicador.classList.add(\"activo\"); }\r\n            indicador.addEventListener(\"click\", (e) => {\r\n                paginador.querySelector(\".activo\").classList.remove(\"activo\");\r\n                e.target.classList.add(\"activo\");\r\n                const encabezado_actual = paginador.parentNode;\r\n                const contenedor_carrusel_actual = encabezado_actual.parentNode;\r\n                const carrusel_actual = contenedor_carrusel_actual.querySelector(\".recomendaciones-carrusel\").querySelector(\".carrusel\");\r\n                carrusel_actual.scrollLeft = i * carrusel_actual.clientWidth;\r\n            });\r\n            paginador.appendChild(indicador);\r\n        }\r\n    });\r\n}\r\nfunction actualizar_paginacion() {\r\n    const paginadores = document.querySelectorAll(\".indicadores-paginador\");\r\n    paginadores.forEach(paginador  => {\r\n        const botones = paginador.querySelectorAll(\"button\");\r\n        botones.forEach(boton => boton.remove());\r\n    });\r\n    crear_paginacion();\r\n}"]}